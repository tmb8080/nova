{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useQuery,useMutation,useQueryClient}from'@tanstack/react-query';import{useAuth}from'../contexts/AuthContext';import{vipAPI,walletAPI}from'../services/api';import{Card,CardContent,CardDescription,CardHeader,CardTitle}from'../components/ui/Card';import{Button}from'../components/ui/Button';import UsdtDeposit from'../components/UsdtDeposit';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VipSelection=()=>{var _walletStats$data3,_walletStats$data3$da,_vipLevels$data,_vipLevels$data2,_vipLevels$data3,_vipLevels$data4,_vipLevels$data4$data,_walletStats$data7,_walletStats$data7$da,_walletStats$data8;const navigate=useNavigate();const{user}=useAuth();const queryClient=useQueryClient();const[selectedVip,setSelectedVip]=useState(null);const[showUsdtDeposit,setShowUsdtDeposit]=useState(false);const[vipToJoin,setVipToJoin]=useState(null);// Fetch VIP levels\nconst{data:vipLevels,isLoading:vipLoading,error:vipError,refetch:refetchVipLevels}=useQuery({queryKey:['vipLevels'],queryFn:()=>vipAPI.getLevels(),onSuccess:data=>{var _data$data;console.log('VIP levels loaded:',data);console.log('VIP levels data structure:',data===null||data===void 0?void 0:data.data);console.log('VIP levels array:',data===null||data===void 0?void 0:(_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.data);console.log('Full response structure:',JSON.stringify(data,null,2));},onError:error=>{console.error('Error loading VIP levels:',error);}});// Fetch wallet stats to check balance\nconst{data:walletStats,error:walletError,refetch:refetchWalletStats,isLoading:walletLoading}=useQuery({queryKey:['walletStats'],queryFn:()=>{console.log('Executing wallet stats query...');return walletAPI.getStats();},onSuccess:data=>{var _data$data2,_data$data2$data;console.log('Wallet stats loaded:',data);console.log('Balance from wallet stats:',data===null||data===void 0?void 0:(_data$data2=data.data)===null||_data$data2===void 0?void 0:(_data$data2$data=_data$data2.data)===null||_data$data2$data===void 0?void 0:_data$data2$data.balance);console.log('Full wallet stats response:',JSON.stringify(data,null,2));},onError:error=>{console.error('Error loading wallet stats:',error);},// Ensure fresh data\nstaleTime:0,refetchOnMount:true,refetchOnWindowFocus:true});// Join VIP mutation\nconst joinVipMutation=useMutation({mutationFn:vipLevelId=>vipAPI.joinVip(vipLevelId),onSuccess:()=>{toast.success('Successfully joined VIP level!');queryClient.invalidateQueries(['walletStats']);queryClient.invalidateQueries(['vipStatus']);navigate('/dashboard');},onError:error=>{var _error$response,_error$response$data;console.error('VIP join error details:',error);console.error('Error response:',error.response);console.error('Error message:',error.message);const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message||'Failed to join VIP level';toast.error(errorMessage);}});const handleJoinVip=vipLevel=>{var _walletStats$data,_walletStats$data$dat,_walletStats$data2;// Check if user has sufficient balance\nconst userBalance=parseFloat(walletStats===null||walletStats===void 0?void 0:(_walletStats$data=walletStats.data)===null||_walletStats$data===void 0?void 0:(_walletStats$data$dat=_walletStats$data.data)===null||_walletStats$data$dat===void 0?void 0:_walletStats$data$dat.balance)||0;const levelAmount=parseFloat(vipLevel===null||vipLevel===void 0?void 0:vipLevel.amount)||0;console.log('VIP join attempt:',{userBalance,levelAmount,walletStats:walletStats===null||walletStats===void 0?void 0:(_walletStats$data2=walletStats.data)===null||_walletStats$data2===void 0?void 0:_walletStats$data2.data,vipLevel});if(userBalance<levelAmount){// Show deposit prompt for insufficient balance\nconst shouldDeposit=window.confirm(\"You need \".concat(formatCurrency(levelAmount-userBalance),\" more to join \").concat(vipLevel.name,\".\\n\\nWould you like to deposit funds to your wallet?\"));if(shouldDeposit){setVipToJoin(vipLevel);setShowUsdtDeposit(true);}return;}setSelectedVip(vipLevel);};const confirmJoinVip=()=>{if(selectedVip){joinVipMutation.mutate(selectedVip.id);setSelectedVip(null);}};const formatCurrency=amount=>{return new Intl.NumberFormat('en-US',{style:'currency',currency:'USD',minimumFractionDigits:0,maximumFractionDigits:0}).format(amount);};const getVipColor=amount=>{if(amount>=25000)return'from-purple-500 to-pink-500';if(amount>=12000)return'from-yellow-400 to-orange-500';if(amount>=6000)return'from-blue-500 to-purple-500';if(amount>=5000)return'from-green-500 to-blue-500';if(amount>=2000)return'from-gray-400 to-gray-600';if(amount>=1500)return'from-purple-400 to-blue-500';if(amount>=1000)return'from-yellow-500 to-orange-400';if(amount>=400)return'from-gray-300 to-gray-500';if(amount>=180)return'from-orange-400 to-red-500';return'from-green-400 to-blue-400';};if(vipLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-300\",children:\"Loading VIP levels...\"})]})});}if(vipError){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl mb-4\",children:\"\\u274C\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-white mb-2\",children:\"Error Loading VIP Levels\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 mb-4\",children:vipError.message||'Failed to load VIP levels'}),/*#__PURE__*/_jsx(Button,{onClick:()=>refetchVipLevels(),children:\"Retry\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20 md:pb-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between h-16\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 text-white\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M13 10V3L4 14h7v7l9-11h-7z\"})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-white\",children:\"Trinity Metro\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-300\",children:\"Live\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mb-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full border border-blue-500/30 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-400 rounded-full mr-2 animate-pulse\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-blue-300 text-sm font-medium\",children:\"VIP Selection\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl md:text-4xl font-bold text-white mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\",children:\"Choose Your VIP Level\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-300 text-base max-w-3xl mx-auto px-4\",children:\"Join a VIP level to start earning daily income. Each level offers guaranteed daily returns on your investment.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6 p-4 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg inline-block border border-blue-500/30\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-blue-300 font-medium text-base\",children:[\"Your Current Balance: \",walletLoading?'Loading...':formatCurrency((walletStats===null||walletStats===void 0?void 0:(_walletStats$data3=walletStats.data)===null||_walletStats$data3===void 0?void 0:(_walletStats$data3$da=_walletStats$data3.data)===null||_walletStats$data3$da===void 0?void 0:_walletStats$data3$da.balance)||0)]}),/*#__PURE__*/_jsx(Button,{onClick:()=>{refetchWalletStats();refetchVipLevels();},className:\"px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded\",children:\"Refresh\"})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6 md:mb-8\",children:vipLevels!==null&&vipLevels!==void 0&&(_vipLevels$data=vipLevels.data)!==null&&_vipLevels$data!==void 0&&_vipLevels$data.data&&Array.isArray(vipLevels.data.data)&&vipLevels.data.data.length>0?vipLevels.data.data.map(vip=>{var _walletStats$data4,_walletStats$data4$da,_walletStats$data5,_walletStats$data5$da,_walletStats$data6,_walletStats$data6$da;const canAfford=(walletStats===null||walletStats===void 0?void 0:(_walletStats$data4=walletStats.data)===null||_walletStats$data4===void 0?void 0:(_walletStats$data4$da=_walletStats$data4.data)===null||_walletStats$data4$da===void 0?void 0:_walletStats$data4$da.balance)>=vip.amount;const dailyReturn=(vip.dailyEarning/vip.amount*100).toFixed(2);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl backdrop-blur-xl bg-white/10 rounded-2xl border border-white/20\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-br \".concat(getVipColor(vip.amount),\" opacity-20\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative p-4 md:p-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-lg md:text-xl font-bold text-center text-white mb-4\",children:vip.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-2xl md:text-3xl font-bold text-white mb-2\",children:formatCurrency(vip.amount)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-base md:text-lg font-semibold text-green-400\",children:[formatCurrency(vip.dailyEarning),\"/day\"]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"relative p-4 md:p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 md:space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs md:text-sm text-gray-300\",children:\"Daily Return:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold text-green-400 text-sm md:text-base\",children:[dailyReturn,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs md:text-sm text-gray-300\",children:\"Monthly Earning:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-white text-sm md:text-base\",children:formatCurrency(vip.dailyEarning*30)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"pt-3 md:pt-4\",children:/*#__PURE__*/_jsx(Button,{className:\"w-full text-sm md:text-base \".concat(canAfford?'bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-md hover:shadow-lg transform hover:scale-105':'bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white shadow-md hover:shadow-lg transform hover:scale-105'),onClick:e=>{e.stopPropagation();handleJoinVip(vip);},children:canAfford?'Join VIP':'Deposit & Join'})}),!canAfford&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-3 pt-3 border-t border-white/20 bg-blue-500/20 backdrop-blur-sm rounded-lg p-2 md:p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-300\",children:\"Your Balance\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-red-400\",children:formatCurrency((walletStats===null||walletStats===void 0?void 0:(_walletStats$data5=walletStats.data)===null||_walletStats$data5===void 0?void 0:(_walletStats$data5$da=_walletStats$data5.data)===null||_walletStats$data5$da===void 0?void 0:_walletStats$data5$da.balance)||0)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-300\",children:\"Need\"}),/*#__PURE__*/_jsx(\"div\",{className:\"font-bold text-white\",children:formatCurrency(vip.amount-((walletStats===null||walletStats===void 0?void 0:(_walletStats$data6=walletStats.data)===null||_walletStats$data6===void 0?void 0:(_walletStats$data6$da=_walletStats$data6.data)===null||_walletStats$data6$da===void 0?void 0:_walletStats$data6$da.balance)||0))})]})]})})]})})]},vip.id);}):/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full text-center py-8 md:py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-4xl md:text-6xl mb-3 md:mb-4\",children:\"\\uD83D\\uDC8E\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg md:text-xl font-semibold text-gray-800 mb-2\",children:\"No VIP Levels Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm md:text-base\",children:\"VIP levels are currently being configured.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Debug info:\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLevels exists: \",vipLevels?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLevels.data exists: \",vipLevels!==null&&vipLevels!==void 0&&vipLevels.data?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLevels.data.data exists: \",vipLevels!==null&&vipLevels!==void 0&&(_vipLevels$data2=vipLevels.data)!==null&&_vipLevels$data2!==void 0&&_vipLevels$data2.data?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLevels.data.data is array: \",Array.isArray(vipLevels===null||vipLevels===void 0?void 0:(_vipLevels$data3=vipLevels.data)===null||_vipLevels$data3===void 0?void 0:_vipLevels$data3.data)?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLevels.data.data length: \",(vipLevels===null||vipLevels===void 0?void 0:(_vipLevels$data4=vipLevels.data)===null||_vipLevels$data4===void 0?void 0:(_vipLevels$data4$data=_vipLevels$data4.data)===null||_vipLevels$data4$data===void 0?void 0:_vipLevels$data4$data.length)||0]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLevels.data type: \",typeof(vipLevels===null||vipLevels===void 0?void 0:vipLevels.data)]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLevels.data keys: \",vipLevels!==null&&vipLevels!==void 0&&vipLevels.data?Object.keys(vipLevels.data).join(', '):'none']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"walletStats exists: \",walletStats?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"walletStats.data exists: \",walletStats!==null&&walletStats!==void 0&&walletStats.data?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"walletStats.data.data.balance: \",(walletStats===null||walletStats===void 0?void 0:(_walletStats$data7=walletStats.data)===null||_walletStats$data7===void 0?void 0:(_walletStats$data7$da=_walletStats$data7.data)===null||_walletStats$data7$da===void 0?void 0:_walletStats$data7$da.balance)||'undefined']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"walletLoading: \",walletLoading?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"walletError: \",walletError?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipLoading: \",vipLoading?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"vipError: \",vipError?'Yes':'No']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Full vipLevels: \",JSON.stringify(vipLevels,null,2)]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(Button,{onClick:()=>refetchVipLevels(),variant:\"outline\",size:\"sm\",children:\"Refresh VIP Levels\"})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center space-y-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>navigate('/dashboard'),className:\"px-6 md:px-8 py-2 md:py-3 text-sm md:text-base\",children:\"Skip for Now\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4\",children:/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:async()=>{var _vipLevels$data5;console.log('Testing VIP join with first level...');if(vipLevels!==null&&vipLevels!==void 0&&(_vipLevels$data5=vipLevels.data)!==null&&_vipLevels$data5!==void 0&&_vipLevels$data5.data&&vipLevels.data.data.length>0){const firstVip=vipLevels.data.data[0];console.log('Testing with VIP level:',firstVip);try{const response=await vipAPI.joinVip(firstVip.id);console.log('VIP join test response:',response);alert('VIP join test successful!');}catch(error){var _error$response2,_error$response2$data;console.error('VIP join test error:',error);alert(\"VIP join test failed: \".concat(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||error.message));}}else{alert('No VIP levels available for testing');}},className:\"px-4 py-2 text-xs\",children:\"Test VIP Join\"})})]})]}),selectedVip&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-4 md:p-6 max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg md:text-xl font-bold mb-3 md:mb-4\",children:\"Confirm VIP Purchase\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 md:space-y-3 mb-4 md:mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm md:text-base\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"VIP Level:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:selectedVip.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm md:text-base\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Cost:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:formatCurrency(selectedVip.amount)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm md:text-base\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Daily Earning:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-green-600\",children:formatCurrency(selectedVip.dailyEarning)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-sm md:text-base\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Your Balance After:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:formatCurrency(((walletStats===null||walletStats===void 0?void 0:(_walletStats$data8=walletStats.data)===null||_walletStats$data8===void 0?void 0:_walletStats$data8.balance)||0)-selectedVip.amount)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2 md:space-x-3\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outline\",onClick:()=>setSelectedVip(null),className:\"flex-1 text-sm md:text-base\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:confirmJoinVip,disabled:joinVipMutation.isLoading,className:\"flex-1 text-sm md:text-base\",children:joinVipMutation.isLoading?'Processing...':'Confirm Purchase'})]})]})}),showUsdtDeposit&&/*#__PURE__*/_jsx(UsdtDeposit,{onClose:()=>{setShowUsdtDeposit(false);setVipToJoin(null);},vipLevel:vipToJoin})]});};export default VipSelection;","map":{"version":3,"names":["React","useState","useNavigate","useQuery","useMutation","useQueryClient","useAuth","vipAPI","walletAPI","Card","CardContent","CardDescription","CardHeader","CardTitle","Button","UsdtDeposit","toast","jsx","_jsx","jsxs","_jsxs","VipSelection","_walletStats$data3","_walletStats$data3$da","_vipLevels$data","_vipLevels$data2","_vipLevels$data3","_vipLevels$data4","_vipLevels$data4$data","_walletStats$data7","_walletStats$data7$da","_walletStats$data8","navigate","user","queryClient","selectedVip","setSelectedVip","showUsdtDeposit","setShowUsdtDeposit","vipToJoin","setVipToJoin","data","vipLevels","isLoading","vipLoading","error","vipError","refetch","refetchVipLevels","queryKey","queryFn","getLevels","onSuccess","_data$data","console","log","JSON","stringify","onError","walletStats","walletError","refetchWalletStats","walletLoading","getStats","_data$data2","_data$data2$data","balance","staleTime","refetchOnMount","refetchOnWindowFocus","joinVipMutation","mutationFn","vipLevelId","joinVip","success","invalidateQueries","_error$response","_error$response$data","response","message","errorMessage","handleJoinVip","vipLevel","_walletStats$data","_walletStats$data$dat","_walletStats$data2","userBalance","parseFloat","levelAmount","amount","shouldDeposit","window","confirm","concat","formatCurrency","name","confirmJoinVip","mutate","id","Intl","NumberFormat","style","currency","minimumFractionDigits","maximumFractionDigits","format","getVipColor","className","children","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","Array","isArray","length","map","vip","_walletStats$data4","_walletStats$data4$da","_walletStats$data5","_walletStats$data5$da","_walletStats$data6","_walletStats$data6$da","canAfford","dailyReturn","dailyEarning","toFixed","e","stopPropagation","Object","keys","join","variant","size","_vipLevels$data5","firstVip","alert","_error$response2","_error$response2$data","disabled","onClose"],"sources":["/Users/juleshb250/PROJECTS/cashapp/frontend/src/pages/VipSelection.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { useAuth } from '../contexts/AuthContext';\nimport { vipAPI, walletAPI } from '../services/api';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '../components/ui/Card';\nimport { Button } from '../components/ui/Button';\nimport UsdtDeposit from '../components/UsdtDeposit';\nimport toast from 'react-hot-toast';\n\nconst VipSelection = () => {\n  const navigate = useNavigate();\n  const { user } = useAuth();\n  const queryClient = useQueryClient();\n  const [selectedVip, setSelectedVip] = useState(null);\n  const [showUsdtDeposit, setShowUsdtDeposit] = useState(false);\n  const [vipToJoin, setVipToJoin] = useState(null);\n\n  // Fetch VIP levels\n  const { data: vipLevels, isLoading: vipLoading, error: vipError, refetch: refetchVipLevels } = useQuery({\n    queryKey: ['vipLevels'],\n    queryFn: () => vipAPI.getLevels(),\n    onSuccess: (data) => {\n      console.log('VIP levels loaded:', data);\n      console.log('VIP levels data structure:', data?.data);\n      console.log('VIP levels array:', data?.data?.data);\n      console.log('Full response structure:', JSON.stringify(data, null, 2));\n    },\n    onError: (error) => {\n      console.error('Error loading VIP levels:', error);\n    },\n  });\n\n  // Fetch wallet stats to check balance\n  const { data: walletStats, error: walletError, refetch: refetchWalletStats, isLoading: walletLoading } = useQuery({\n    queryKey: ['walletStats'],\n    queryFn: () => {\n      console.log('Executing wallet stats query...');\n      return walletAPI.getStats();\n    },\n    onSuccess: (data) => {\n      console.log('Wallet stats loaded:', data);\n      console.log('Balance from wallet stats:', data?.data?.data?.balance);\n      console.log('Full wallet stats response:', JSON.stringify(data, null, 2));\n    },\n    onError: (error) => {\n      console.error('Error loading wallet stats:', error);\n    },\n    // Ensure fresh data\n    staleTime: 0,\n    refetchOnMount: true,\n    refetchOnWindowFocus: true,\n  });\n\n  // Join VIP mutation\n  const joinVipMutation = useMutation({\n    mutationFn: (vipLevelId) => vipAPI.joinVip(vipLevelId),\n    onSuccess: () => {\n      toast.success('Successfully joined VIP level!');\n      queryClient.invalidateQueries(['walletStats']);\n      queryClient.invalidateQueries(['vipStatus']);\n      navigate('/dashboard');\n    },\n    onError: (error) => {\n      console.error('VIP join error details:', error);\n      console.error('Error response:', error.response);\n      console.error('Error message:', error.message);\n      const errorMessage = error.response?.data?.message || error.message || 'Failed to join VIP level';\n      toast.error(errorMessage);\n    },\n  });\n\n  const handleJoinVip = (vipLevel) => {\n    // Check if user has sufficient balance\n    const userBalance = parseFloat(walletStats?.data?.data?.balance) || 0;\n    const levelAmount = parseFloat(vipLevel?.amount) || 0;\n    \n    console.log('VIP join attempt:', {\n      userBalance,\n      levelAmount,\n      walletStats: walletStats?.data?.data,\n      vipLevel\n    });\n    \n    if (userBalance < levelAmount) {\n      // Show deposit prompt for insufficient balance\n      const shouldDeposit = window.confirm(\n        `You need ${formatCurrency(levelAmount - userBalance)} more to join ${vipLevel.name}.\\n\\nWould you like to deposit funds to your wallet?`\n      );\n      \n      if (shouldDeposit) {\n        setVipToJoin(vipLevel);\n        setShowUsdtDeposit(true);\n      }\n      return;\n    }\n    \n    setSelectedVip(vipLevel);\n  };\n\n  const confirmJoinVip = () => {\n    if (selectedVip) {\n      joinVipMutation.mutate(selectedVip.id);\n      setSelectedVip(null);\n    }\n  };\n\n  const formatCurrency = (amount) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 0\n    }).format(amount);\n  };\n\n  const getVipColor = (amount) => {\n    if (amount >= 25000) return 'from-purple-500 to-pink-500';\n    if (amount >= 12000) return 'from-yellow-400 to-orange-500';\n    if (amount >= 6000) return 'from-blue-500 to-purple-500';\n    if (amount >= 5000) return 'from-green-500 to-blue-500';\n    if (amount >= 2000) return 'from-gray-400 to-gray-600';\n    if (amount >= 1500) return 'from-purple-400 to-blue-500';\n    if (amount >= 1000) return 'from-yellow-500 to-orange-400';\n    if (amount >= 400) return 'from-gray-300 to-gray-500';\n    if (amount >= 180) return 'from-orange-400 to-red-500';\n    return 'from-green-400 to-blue-400';\n  };\n\n  if (vipLoading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-300\">Loading VIP levels...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (vipError) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"text-4xl mb-4\">‚ùå</div>\n          <h3 className=\"text-lg font-semibold text-white mb-2\">Error Loading VIP Levels</h3>\n          <p className=\"text-gray-300 mb-4\">{vipError.message || 'Failed to load VIP levels'}</p>\n          <Button onClick={() => refetchVipLevels()}>Retry</Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 pb-20 md:pb-0\">\n      {/* Modern Header */}\n      <div className=\"relative overflow-hidden\">\n        <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20\"></div>\n        <div className=\"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center\">\n                <svg className=\"w-5 h-5 text-white\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\n                </svg>\n              </div>\n              <h1 className=\"text-xl font-bold text-white\">Trinity Metro</h1>\n            </div>\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-2 h-2 bg-green-400 rounded-full animate-pulse\"></div>\n              <span className=\"text-sm text-gray-300\">Live</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Modern Header */}\n        <div className=\"text-center mb-12\">\n          <div className=\"inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-full border border-blue-500/30 mb-6\">\n            <div className=\"w-2 h-2 bg-blue-400 rounded-full mr-2 animate-pulse\"></div>\n            <span className=\"text-blue-300 text-sm font-medium\">VIP Selection</span>\n          </div>\n          <h1 className=\"text-3xl md:text-4xl font-bold text-white mb-4 bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\n            Choose Your VIP Level\n          </h1>\n          <p className=\"text-gray-300 text-base max-w-3xl mx-auto px-4\">\n            Join a VIP level to start earning daily income. Each level offers guaranteed daily returns on your investment.\n          </p>\n          <div className=\"mt-6 p-4 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg inline-block border border-blue-500/30\">\n            <div className=\"flex items-center space-x-4\">\n              <p className=\"text-blue-300 font-medium text-base\">\n                Your Current Balance: {walletLoading ? 'Loading...' : formatCurrency(walletStats?.data?.data?.balance || 0)}\n              </p>\n              <Button \n                onClick={() => {\n                  refetchWalletStats();\n                  refetchVipLevels();\n                }}\n                className=\"px-3 py-1 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded\"\n              >\n                Refresh\n              </Button>\n            </div>\n          </div>\n        </div>\n\n\n\n        {/* VIP Levels Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 mb-6 md:mb-8\">\n          {vipLevels?.data?.data && Array.isArray(vipLevels.data.data) && vipLevels.data.data.length > 0 ? vipLevels.data.data.map((vip) => {\n            const canAfford = walletStats?.data?.data?.balance >= vip.amount;\n            const dailyReturn = ((vip.dailyEarning / vip.amount) * 100).toFixed(2);\n            \n            return (\n              <div \n                key={vip.id} \n                className={`relative overflow-hidden transition-all duration-300 hover:scale-105 hover:shadow-2xl backdrop-blur-xl bg-white/10 rounded-2xl border border-white/20`}\n              >\n                <div className={`absolute inset-0 bg-gradient-to-br ${getVipColor(vip.amount)} opacity-20`}></div>\n                <div className=\"relative p-4 md:p-6\">\n                  <div className=\"text-lg md:text-xl font-bold text-center text-white mb-4\">\n                    {vip.name}\n                  </div>\n                  <div className=\"text-center\">\n                    <div className=\"text-2xl md:text-3xl font-bold text-white mb-2\">\n                      {formatCurrency(vip.amount)}\n                    </div>\n                    <div className=\"text-base md:text-lg font-semibold text-green-400\">\n                      {formatCurrency(vip.dailyEarning)}/day\n                    </div>\n                  </div>\n                </div>\n                <div className=\"relative p-4 md:p-6\">\n                  <div className=\"space-y-2 md:space-y-3\">\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-xs md:text-sm text-gray-300\">Daily Return:</span>\n                      <span className=\"font-semibold text-green-400 text-sm md:text-base\">{dailyReturn}%</span>\n                    </div>\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-xs md:text-sm text-gray-300\">Monthly Earning:</span>\n                      <span className=\"font-semibold text-white text-sm md:text-base\">{formatCurrency(vip.dailyEarning * 30)}</span>\n                    </div>\n                    <div className=\"pt-3 md:pt-4\">\n                      <Button \n                        className={`w-full text-sm md:text-base ${\n                          canAfford \n                            ? 'bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white shadow-md hover:shadow-lg transform hover:scale-105' \n                            : 'bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-700 hover:to-indigo-800 text-white shadow-md hover:shadow-lg transform hover:scale-105'\n                        }`}\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleJoinVip(vip);\n                        }}\n                      >\n                        {canAfford ? 'Join VIP' : 'Deposit & Join'}\n                      </Button>\n                    </div>\n                    \n                    {/* Balance Info for Unaffordable Levels */}\n                    {!canAfford && (\n                      <div className=\"mt-3 pt-3 border-t border-white/20 bg-blue-500/20 backdrop-blur-sm rounded-lg p-2 md:p-3\">\n                        <div className=\"flex justify-between items-center text-xs\">\n                          <div>\n                            <div className=\"text-gray-300\">Your Balance</div>\n                            <div className=\"font-bold text-red-400\">\n                              {formatCurrency(walletStats?.data?.data?.balance || 0)}\n                            </div>\n                          </div>\n                          <div className=\"text-right\">\n                            <div className=\"text-gray-300\">Need</div>\n                            <div className=\"font-bold text-white\">\n                              {formatCurrency(vip.amount - (walletStats?.data?.data?.balance || 0))}\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                </div>\n              </div>\n            );\n          }) : (\n            <div className=\"col-span-full text-center py-8 md:py-12\">\n              <div className=\"text-4xl md:text-6xl mb-3 md:mb-4\">üíé</div>\n              <h3 className=\"text-lg md:text-xl font-semibold text-gray-800 mb-2\">No VIP Levels Available</h3>\n              <p className=\"text-gray-600 text-sm md:text-base\">VIP levels are currently being configured.</p>\n              <div className=\"mt-4 text-xs text-gray-500\">\n                <p>Debug info:</p>\n                <p>vipLevels exists: {vipLevels ? 'Yes' : 'No'}</p>\n                <p>vipLevels.data exists: {vipLevels?.data ? 'Yes' : 'No'}</p>\n                <p>vipLevels.data.data exists: {vipLevels?.data?.data ? 'Yes' : 'No'}</p>\n                <p>vipLevels.data.data is array: {Array.isArray(vipLevels?.data?.data) ? 'Yes' : 'No'}</p>\n                <p>vipLevels.data.data length: {vipLevels?.data?.data?.length || 0}</p>\n                <p>vipLevels.data type: {typeof vipLevels?.data}</p>\n                <p>vipLevels.data keys: {vipLevels?.data ? Object.keys(vipLevels.data).join(', ') : 'none'}</p>\n                <p>walletStats exists: {walletStats ? 'Yes' : 'No'}</p>\n                <p>walletStats.data exists: {walletStats?.data ? 'Yes' : 'No'}</p>\n                <p>walletStats.data.data.balance: {walletStats?.data?.data?.balance || 'undefined'}</p>\n                <p>walletLoading: {walletLoading ? 'Yes' : 'No'}</p>\n                <p>walletError: {walletError ? 'Yes' : 'No'}</p>\n                <p>vipLoading: {vipLoading ? 'Yes' : 'No'}</p>\n                <p>vipError: {vipError ? 'Yes' : 'No'}</p>\n                <p>Full vipLevels: {JSON.stringify(vipLevels, null, 2)}</p>\n              </div>\n              <div className=\"mt-4\">\n                <Button onClick={() => refetchVipLevels()} variant=\"outline\" size=\"sm\">\n                  Refresh VIP Levels\n                </Button>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Skip VIP Option */}\n        <div className=\"text-center space-y-4\">\n          <Button \n            variant=\"outline\" \n            onClick={() => navigate('/dashboard')}\n            className=\"px-6 md:px-8 py-2 md:py-3 text-sm md:text-base\"\n          >\n            Skip for Now\n          </Button>\n          \n          {/* Debug button */}\n          <div className=\"mt-4\">\n            <Button \n              variant=\"outline\" \n              onClick={async () => {\n                console.log('Testing VIP join with first level...');\n                if (vipLevels?.data?.data && vipLevels.data.data.length > 0) {\n                  const firstVip = vipLevels.data.data[0];\n                  console.log('Testing with VIP level:', firstVip);\n                  try {\n                    const response = await vipAPI.joinVip(firstVip.id);\n                    console.log('VIP join test response:', response);\n                    alert('VIP join test successful!');\n                  } catch (error) {\n                    console.error('VIP join test error:', error);\n                    alert(`VIP join test failed: ${error.response?.data?.message || error.message}`);\n                  }\n                } else {\n                  alert('No VIP levels available for testing');\n                }\n              }}\n              className=\"px-4 py-2 text-xs\"\n            >\n              Test VIP Join\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {/* Confirmation Modal */}\n      {selectedVip && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg p-4 md:p-6 max-w-md w-full\">\n            <h3 className=\"text-lg md:text-xl font-bold mb-3 md:mb-4\">Confirm VIP Purchase</h3>\n            <div className=\"space-y-2 md:space-y-3 mb-4 md:mb-6\">\n              <div className=\"flex justify-between text-sm md:text-base\">\n                <span>VIP Level:</span>\n                <span className=\"font-semibold\">{selectedVip.name}</span>\n              </div>\n              <div className=\"flex justify-between text-sm md:text-base\">\n                <span>Cost:</span>\n                <span className=\"font-semibold\">{formatCurrency(selectedVip.amount)}</span>\n              </div>\n              <div className=\"flex justify-between text-sm md:text-base\">\n                <span>Daily Earning:</span>\n                <span className=\"font-semibold text-green-600\">{formatCurrency(selectedVip.dailyEarning)}</span>\n              </div>\n              <div className=\"flex justify-between text-sm md:text-base\">\n                <span>Your Balance After:</span>\n                <span className=\"font-semibold\">\n                  {formatCurrency((walletStats?.data?.balance || 0) - selectedVip.amount)}\n                </span>\n              </div>\n            </div>\n            <div className=\"flex space-x-2 md:space-x-3\">\n              <Button \n                variant=\"outline\" \n                onClick={() => setSelectedVip(null)}\n                className=\"flex-1 text-sm md:text-base\"\n              >\n                Cancel\n              </Button>\n              <Button \n                onClick={confirmJoinVip}\n                disabled={joinVipMutation.isLoading}\n                className=\"flex-1 text-sm md:text-base\"\n              >\n                {joinVipMutation.isLoading ? 'Processing...' : 'Confirm Purchase'}\n              </Button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* USDT Deposit Modal */}\n      {showUsdtDeposit && (\n        <UsdtDeposit\n          onClose={() => {\n            setShowUsdtDeposit(false);\n            setVipToJoin(null);\n          }}\n          vipLevel={vipToJoin}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default VipSelection;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,QAAQ,CAAEC,WAAW,CAAEC,cAAc,KAAQ,uBAAuB,CAC7E,OAASC,OAAO,KAAQ,yBAAyB,CACjD,OAASC,MAAM,CAAEC,SAAS,KAAQ,iBAAiB,CACnD,OAASC,IAAI,CAAEC,WAAW,CAAEC,eAAe,CAAEC,UAAU,CAAEC,SAAS,KAAQ,uBAAuB,CACjG,OAASC,MAAM,KAAQ,yBAAyB,CAChD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,KAAK,KAAM,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpC,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,KAAAC,kBAAA,CAAAC,qBAAA,CAAAC,eAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CAAAC,kBAAA,CAAAC,qBAAA,CAAAC,kBAAA,CACzB,KAAM,CAAAC,QAAQ,CAAG9B,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAE+B,IAAK,CAAC,CAAG3B,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAA4B,WAAW,CAAG7B,cAAc,CAAC,CAAC,CACpC,KAAM,CAAC8B,WAAW,CAAEC,cAAc,CAAC,CAAGnC,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACoC,eAAe,CAAEC,kBAAkB,CAAC,CAAGrC,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACsC,SAAS,CAAEC,YAAY,CAAC,CAAGvC,QAAQ,CAAC,IAAI,CAAC,CAEhD;AACA,KAAM,CAAEwC,IAAI,CAAEC,SAAS,CAAEC,SAAS,CAAEC,UAAU,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,gBAAiB,CAAC,CAAG7C,QAAQ,CAAC,CACtG8C,QAAQ,CAAE,CAAC,WAAW,CAAC,CACvBC,OAAO,CAAEA,CAAA,GAAM3C,MAAM,CAAC4C,SAAS,CAAC,CAAC,CACjCC,SAAS,CAAGX,IAAI,EAAK,KAAAY,UAAA,CACnBC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEd,IAAI,CAAC,CACvCa,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAEd,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEA,IAAI,CAAC,CACrDa,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAEd,IAAI,SAAJA,IAAI,kBAAAY,UAAA,CAAJZ,IAAI,CAAEA,IAAI,UAAAY,UAAA,iBAAVA,UAAA,CAAYZ,IAAI,CAAC,CAClDa,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEC,IAAI,CAACC,SAAS,CAAChB,IAAI,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CACxE,CAAC,CACDiB,OAAO,CAAGb,KAAK,EAAK,CAClBS,OAAO,CAACT,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAAC,CAAC,CAEF;AACA,KAAM,CAAEJ,IAAI,CAAEkB,WAAW,CAAEd,KAAK,CAAEe,WAAW,CAAEb,OAAO,CAAEc,kBAAkB,CAAElB,SAAS,CAAEmB,aAAc,CAAC,CAAG3D,QAAQ,CAAC,CAChH8C,QAAQ,CAAE,CAAC,aAAa,CAAC,CACzBC,OAAO,CAAEA,CAAA,GAAM,CACbI,OAAO,CAACC,GAAG,CAAC,iCAAiC,CAAC,CAC9C,MAAO,CAAA/C,SAAS,CAACuD,QAAQ,CAAC,CAAC,CAC7B,CAAC,CACDX,SAAS,CAAGX,IAAI,EAAK,KAAAuB,WAAA,CAAAC,gBAAA,CACnBX,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEd,IAAI,CAAC,CACzCa,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAEd,IAAI,SAAJA,IAAI,kBAAAuB,WAAA,CAAJvB,IAAI,CAAEA,IAAI,UAAAuB,WAAA,kBAAAC,gBAAA,CAAVD,WAAA,CAAYvB,IAAI,UAAAwB,gBAAA,iBAAhBA,gBAAA,CAAkBC,OAAO,CAAC,CACpEZ,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEC,IAAI,CAACC,SAAS,CAAChB,IAAI,CAAE,IAAI,CAAE,CAAC,CAAC,CAAC,CAC3E,CAAC,CACDiB,OAAO,CAAGb,KAAK,EAAK,CAClBS,OAAO,CAACT,KAAK,CAAC,6BAA6B,CAAEA,KAAK,CAAC,CACrD,CAAC,CACD;AACAsB,SAAS,CAAE,CAAC,CACZC,cAAc,CAAE,IAAI,CACpBC,oBAAoB,CAAE,IACxB,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,eAAe,CAAGlE,WAAW,CAAC,CAClCmE,UAAU,CAAGC,UAAU,EAAKjE,MAAM,CAACkE,OAAO,CAACD,UAAU,CAAC,CACtDpB,SAAS,CAAEA,CAAA,GAAM,CACfpC,KAAK,CAAC0D,OAAO,CAAC,gCAAgC,CAAC,CAC/CxC,WAAW,CAACyC,iBAAiB,CAAC,CAAC,aAAa,CAAC,CAAC,CAC9CzC,WAAW,CAACyC,iBAAiB,CAAC,CAAC,WAAW,CAAC,CAAC,CAC5C3C,QAAQ,CAAC,YAAY,CAAC,CACxB,CAAC,CACD0B,OAAO,CAAGb,KAAK,EAAK,KAAA+B,eAAA,CAAAC,oBAAA,CAClBvB,OAAO,CAACT,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CS,OAAO,CAACT,KAAK,CAAC,iBAAiB,CAAEA,KAAK,CAACiC,QAAQ,CAAC,CAChDxB,OAAO,CAACT,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAACkC,OAAO,CAAC,CAC9C,KAAM,CAAAC,YAAY,CAAG,EAAAJ,eAAA,CAAA/B,KAAK,CAACiC,QAAQ,UAAAF,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBnC,IAAI,UAAAoC,oBAAA,iBAApBA,oBAAA,CAAsBE,OAAO,GAAIlC,KAAK,CAACkC,OAAO,EAAI,0BAA0B,CACjG/D,KAAK,CAAC6B,KAAK,CAACmC,YAAY,CAAC,CAC3B,CACF,CAAC,CAAC,CAEF,KAAM,CAAAC,aAAa,CAAIC,QAAQ,EAAK,KAAAC,iBAAA,CAAAC,qBAAA,CAAAC,kBAAA,CAClC;AACA,KAAM,CAAAC,WAAW,CAAGC,UAAU,CAAC5B,WAAW,SAAXA,WAAW,kBAAAwB,iBAAA,CAAXxB,WAAW,CAAElB,IAAI,UAAA0C,iBAAA,kBAAAC,qBAAA,CAAjBD,iBAAA,CAAmB1C,IAAI,UAAA2C,qBAAA,iBAAvBA,qBAAA,CAAyBlB,OAAO,CAAC,EAAI,CAAC,CACrE,KAAM,CAAAsB,WAAW,CAAGD,UAAU,CAACL,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEO,MAAM,CAAC,EAAI,CAAC,CAErDnC,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAE,CAC/B+B,WAAW,CACXE,WAAW,CACX7B,WAAW,CAAEA,WAAW,SAAXA,WAAW,kBAAA0B,kBAAA,CAAX1B,WAAW,CAAElB,IAAI,UAAA4C,kBAAA,iBAAjBA,kBAAA,CAAmB5C,IAAI,CACpCyC,QACF,CAAC,CAAC,CAEF,GAAII,WAAW,CAAGE,WAAW,CAAE,CAC7B;AACA,KAAM,CAAAE,aAAa,CAAGC,MAAM,CAACC,OAAO,aAAAC,MAAA,CACtBC,cAAc,CAACN,WAAW,CAAGF,WAAW,CAAC,mBAAAO,MAAA,CAAiBX,QAAQ,CAACa,IAAI,wDACrF,CAAC,CAED,GAAIL,aAAa,CAAE,CACjBlD,YAAY,CAAC0C,QAAQ,CAAC,CACtB5C,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACA,OACF,CAEAF,cAAc,CAAC8C,QAAQ,CAAC,CAC1B,CAAC,CAED,KAAM,CAAAc,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI7D,WAAW,CAAE,CACfmC,eAAe,CAAC2B,MAAM,CAAC9D,WAAW,CAAC+D,EAAE,CAAC,CACtC9D,cAAc,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,CAED,KAAM,CAAA0D,cAAc,CAAIL,MAAM,EAAK,CACjC,MAAO,IAAI,CAAAU,IAAI,CAACC,YAAY,CAAC,OAAO,CAAE,CACpCC,KAAK,CAAE,UAAU,CACjBC,QAAQ,CAAE,KAAK,CACfC,qBAAqB,CAAE,CAAC,CACxBC,qBAAqB,CAAE,CACzB,CAAC,CAAC,CAACC,MAAM,CAAChB,MAAM,CAAC,CACnB,CAAC,CAED,KAAM,CAAAiB,WAAW,CAAIjB,MAAM,EAAK,CAC9B,GAAIA,MAAM,EAAI,KAAK,CAAE,MAAO,6BAA6B,CACzD,GAAIA,MAAM,EAAI,KAAK,CAAE,MAAO,+BAA+B,CAC3D,GAAIA,MAAM,EAAI,IAAI,CAAE,MAAO,6BAA6B,CACxD,GAAIA,MAAM,EAAI,IAAI,CAAE,MAAO,4BAA4B,CACvD,GAAIA,MAAM,EAAI,IAAI,CAAE,MAAO,2BAA2B,CACtD,GAAIA,MAAM,EAAI,IAAI,CAAE,MAAO,6BAA6B,CACxD,GAAIA,MAAM,EAAI,IAAI,CAAE,MAAO,+BAA+B,CAC1D,GAAIA,MAAM,EAAI,GAAG,CAAE,MAAO,2BAA2B,CACrD,GAAIA,MAAM,EAAI,GAAG,CAAE,MAAO,4BAA4B,CACtD,MAAO,4BAA4B,CACrC,CAAC,CAED,GAAI7C,UAAU,CAAE,CACd,mBACE1B,IAAA,QAAKyF,SAAS,CAAC,4GAA4G,CAAAC,QAAA,cACzHxF,KAAA,QAAKuF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B1F,IAAA,QAAKyF,SAAS,CAAC,wEAAwE,CAAM,CAAC,cAC9FzF,IAAA,MAAGyF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,uBAAqB,CAAG,CAAC,EACxD,CAAC,CACH,CAAC,CAEV,CAEA,GAAI9D,QAAQ,CAAE,CACZ,mBACE5B,IAAA,QAAKyF,SAAS,CAAC,4GAA4G,CAAAC,QAAA,cACzHxF,KAAA,QAAKuF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B1F,IAAA,QAAKyF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,QAAC,CAAK,CAAC,cACtC1F,IAAA,OAAIyF,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,0BAAwB,CAAI,CAAC,cACnF1F,IAAA,MAAGyF,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAE9D,QAAQ,CAACiC,OAAO,EAAI,2BAA2B,CAAI,CAAC,cACvF7D,IAAA,CAACJ,MAAM,EAAC+F,OAAO,CAAEA,CAAA,GAAM7D,gBAAgB,CAAC,CAAE,CAAA4D,QAAA,CAAC,OAAK,CAAQ,CAAC,EACtD,CAAC,CACH,CAAC,CAEV,CAEA,mBACExF,KAAA,QAAKuF,SAAS,CAAC,yFAAyF,CAAAC,QAAA,eAEtGxF,KAAA,QAAKuF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC1F,IAAA,QAAKyF,SAAS,CAAC,qEAAqE,CAAM,CAAC,cAC3FzF,IAAA,QAAKyF,SAAS,CAAC,iDAAiD,CAAAC,QAAA,cAC9DxF,KAAA,QAAKuF,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDxF,KAAA,QAAKuF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1F,IAAA,QAAKyF,SAAS,CAAC,mGAAmG,CAAAC,QAAA,cAChH1F,IAAA,QAAKyF,SAAS,CAAC,oBAAoB,CAACG,IAAI,CAAC,MAAM,CAACC,MAAM,CAAC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAAJ,QAAA,cACvF1F,IAAA,SAAM+F,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,4BAA4B,CAAE,CAAC,CACjG,CAAC,CACH,CAAC,cACNlG,IAAA,OAAIyF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAC,eAAa,CAAI,CAAC,EAC5D,CAAC,cACNxF,KAAA,QAAKuF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1F,IAAA,QAAKyF,SAAS,CAAC,iDAAiD,CAAM,CAAC,cACvEzF,IAAA,SAAMyF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,CAAC,MAAI,CAAM,CAAC,EAChD,CAAC,EACH,CAAC,CACH,CAAC,EACH,CAAC,cAENxF,KAAA,QAAKuF,SAAS,CAAC,6CAA6C,CAAAC,QAAA,eAE1DxF,KAAA,QAAKuF,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCxF,KAAA,QAAKuF,SAAS,CAAC,mIAAmI,CAAAC,QAAA,eAChJ1F,IAAA,QAAKyF,SAAS,CAAC,qDAAqD,CAAM,CAAC,cAC3EzF,IAAA,SAAMyF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,EACrE,CAAC,cACN1F,IAAA,OAAIyF,SAAS,CAAC,2HAA2H,CAAAC,QAAA,CAAC,uBAE1I,CAAI,CAAC,cACL1F,IAAA,MAAGyF,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAAC,gHAE9D,CAAG,CAAC,cACJ1F,IAAA,QAAKyF,SAAS,CAAC,+GAA+G,CAAAC,QAAA,cAC5HxF,KAAA,QAAKuF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CxF,KAAA,MAAGuF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,EAAC,wBAC3B,CAAC9C,aAAa,CAAG,YAAY,CAAGgC,cAAc,CAAC,CAAAnC,WAAW,SAAXA,WAAW,kBAAArC,kBAAA,CAAXqC,WAAW,CAAElB,IAAI,UAAAnB,kBAAA,kBAAAC,qBAAA,CAAjBD,kBAAA,CAAmBmB,IAAI,UAAAlB,qBAAA,iBAAvBA,qBAAA,CAAyB2C,OAAO,GAAI,CAAC,CAAC,EAC1G,CAAC,cACJhD,IAAA,CAACJ,MAAM,EACL+F,OAAO,CAAEA,CAAA,GAAM,CACbhD,kBAAkB,CAAC,CAAC,CACpBb,gBAAgB,CAAC,CAAC,CACpB,CAAE,CACF2D,SAAS,CAAC,oEAAoE,CAAAC,QAAA,CAC/E,SAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,EACH,CAAC,cAKN1F,IAAA,QAAKyF,SAAS,CAAC,4EAA4E,CAAAC,QAAA,CACxFlE,SAAS,SAATA,SAAS,YAAAlB,eAAA,CAATkB,SAAS,CAAED,IAAI,UAAAjB,eAAA,WAAfA,eAAA,CAAiBiB,IAAI,EAAI4E,KAAK,CAACC,OAAO,CAAC5E,SAAS,CAACD,IAAI,CAACA,IAAI,CAAC,EAAIC,SAAS,CAACD,IAAI,CAACA,IAAI,CAAC8E,MAAM,CAAG,CAAC,CAAG7E,SAAS,CAACD,IAAI,CAACA,IAAI,CAAC+E,GAAG,CAAEC,GAAG,EAAK,KAAAC,kBAAA,CAAAC,qBAAA,CAAAC,kBAAA,CAAAC,qBAAA,CAAAC,kBAAA,CAAAC,qBAAA,CAChI,KAAM,CAAAC,SAAS,CAAG,CAAArE,WAAW,SAAXA,WAAW,kBAAA+D,kBAAA,CAAX/D,WAAW,CAAElB,IAAI,UAAAiF,kBAAA,kBAAAC,qBAAA,CAAjBD,kBAAA,CAAmBjF,IAAI,UAAAkF,qBAAA,iBAAvBA,qBAAA,CAAyBzD,OAAO,GAAIuD,GAAG,CAAChC,MAAM,CAChE,KAAM,CAAAwC,WAAW,CAAG,CAAER,GAAG,CAACS,YAAY,CAAGT,GAAG,CAAChC,MAAM,CAAI,GAAG,EAAE0C,OAAO,CAAC,CAAC,CAAC,CAEtE,mBACE/G,KAAA,QAEEuF,SAAS,wJAA0J,CAAAC,QAAA,eAEnK1F,IAAA,QAAKyF,SAAS,uCAAAd,MAAA,CAAwCa,WAAW,CAACe,GAAG,CAAChC,MAAM,CAAC,eAAc,CAAM,CAAC,cAClGrE,KAAA,QAAKuF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClC1F,IAAA,QAAKyF,SAAS,CAAC,0DAA0D,CAAAC,QAAA,CACtEa,GAAG,CAAC1B,IAAI,CACN,CAAC,cACN3E,KAAA,QAAKuF,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC1B1F,IAAA,QAAKyF,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAC5Dd,cAAc,CAAC2B,GAAG,CAAChC,MAAM,CAAC,CACxB,CAAC,cACNrE,KAAA,QAAKuF,SAAS,CAAC,mDAAmD,CAAAC,QAAA,EAC/Dd,cAAc,CAAC2B,GAAG,CAACS,YAAY,CAAC,CAAC,MACpC,EAAK,CAAC,EACH,CAAC,EACH,CAAC,cACNhH,IAAA,QAAKyF,SAAS,CAAC,qBAAqB,CAAAC,QAAA,cAClCxF,KAAA,QAAKuF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,eACrCxF,KAAA,QAAKuF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD1F,IAAA,SAAMyF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,eAAa,CAAM,CAAC,cACvExF,KAAA,SAAMuF,SAAS,CAAC,mDAAmD,CAAAC,QAAA,EAAEqB,WAAW,CAAC,GAAC,EAAM,CAAC,EACtF,CAAC,cACN7G,KAAA,QAAKuF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,eAChD1F,IAAA,SAAMyF,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,kBAAgB,CAAM,CAAC,cAC1E1F,IAAA,SAAMyF,SAAS,CAAC,+CAA+C,CAAAC,QAAA,CAAEd,cAAc,CAAC2B,GAAG,CAACS,YAAY,CAAG,EAAE,CAAC,CAAO,CAAC,EAC3G,CAAC,cACNhH,IAAA,QAAKyF,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3B1F,IAAA,CAACJ,MAAM,EACL6F,SAAS,gCAAAd,MAAA,CACPmC,SAAS,CACL,6IAA6I,CAC7I,qJAAqJ,CACxJ,CACHnB,OAAO,CAAGuB,CAAC,EAAK,CACdA,CAAC,CAACC,eAAe,CAAC,CAAC,CACnBpD,aAAa,CAACwC,GAAG,CAAC,CACpB,CAAE,CAAAb,QAAA,CAEDoB,SAAS,CAAG,UAAU,CAAG,gBAAgB,CACpC,CAAC,CACN,CAAC,CAGL,CAACA,SAAS,eACT9G,IAAA,QAAKyF,SAAS,CAAC,0FAA0F,CAAAC,QAAA,cACvGxF,KAAA,QAAKuF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxDxF,KAAA,QAAAwF,QAAA,eACE1F,IAAA,QAAKyF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,cAAY,CAAK,CAAC,cACjD1F,IAAA,QAAKyF,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CACpCd,cAAc,CAAC,CAAAnC,WAAW,SAAXA,WAAW,kBAAAiE,kBAAA,CAAXjE,WAAW,CAAElB,IAAI,UAAAmF,kBAAA,kBAAAC,qBAAA,CAAjBD,kBAAA,CAAmBnF,IAAI,UAAAoF,qBAAA,iBAAvBA,qBAAA,CAAyB3D,OAAO,GAAI,CAAC,CAAC,CACnD,CAAC,EACH,CAAC,cACN9C,KAAA,QAAKuF,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzB1F,IAAA,QAAKyF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAC,MAAI,CAAK,CAAC,cACzC1F,IAAA,QAAKyF,SAAS,CAAC,sBAAsB,CAAAC,QAAA,CAClCd,cAAc,CAAC2B,GAAG,CAAChC,MAAM,EAAI,CAAA9B,WAAW,SAAXA,WAAW,kBAAAmE,kBAAA,CAAXnE,WAAW,CAAElB,IAAI,UAAAqF,kBAAA,kBAAAC,qBAAA,CAAjBD,kBAAA,CAAmBrF,IAAI,UAAAsF,qBAAA,iBAAvBA,qBAAA,CAAyB7D,OAAO,GAAI,CAAC,CAAC,CAAC,CAClE,CAAC,EACH,CAAC,EACH,CAAC,CACH,CACN,EACE,CAAC,CACH,CAAC,GA/DDuD,GAAG,CAACvB,EAgEN,CAAC,CAEV,CAAC,CAAC,cACA9E,KAAA,QAAKuF,SAAS,CAAC,yCAAyC,CAAAC,QAAA,eACtD1F,IAAA,QAAKyF,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,cAAE,CAAK,CAAC,cAC3D1F,IAAA,OAAIyF,SAAS,CAAC,qDAAqD,CAAAC,QAAA,CAAC,yBAAuB,CAAI,CAAC,cAChG1F,IAAA,MAAGyF,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAAC,4CAA0C,CAAG,CAAC,cAChGxF,KAAA,QAAKuF,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzC1F,IAAA,MAAA0F,QAAA,CAAG,aAAW,CAAG,CAAC,cAClBxF,KAAA,MAAAwF,QAAA,EAAG,oBAAkB,CAAClE,SAAS,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cACnDtB,KAAA,MAAAwF,QAAA,EAAG,yBAAuB,CAAClE,SAAS,SAATA,SAAS,WAATA,SAAS,CAAED,IAAI,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cAC9DrB,KAAA,MAAAwF,QAAA,EAAG,8BAA4B,CAAClE,SAAS,SAATA,SAAS,YAAAjB,gBAAA,CAATiB,SAAS,CAAED,IAAI,UAAAhB,gBAAA,WAAfA,gBAAA,CAAiBgB,IAAI,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cACzErB,KAAA,MAAAwF,QAAA,EAAG,gCAA8B,CAACS,KAAK,CAACC,OAAO,CAAC5E,SAAS,SAATA,SAAS,kBAAAhB,gBAAA,CAATgB,SAAS,CAAED,IAAI,UAAAf,gBAAA,iBAAfA,gBAAA,CAAiBe,IAAI,CAAC,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cAC1FrB,KAAA,MAAAwF,QAAA,EAAG,8BAA4B,CAAC,CAAAlE,SAAS,SAATA,SAAS,kBAAAf,gBAAA,CAATe,SAAS,CAAED,IAAI,UAAAd,gBAAA,kBAAAC,qBAAA,CAAfD,gBAAA,CAAiBc,IAAI,UAAAb,qBAAA,iBAArBA,qBAAA,CAAuB2F,MAAM,GAAI,CAAC,EAAI,CAAC,cACvEnG,KAAA,MAAAwF,QAAA,EAAG,uBAAqB,CAAC,OAAOlE,SAAS,SAATA,SAAS,iBAATA,SAAS,CAAED,IAAI,GAAI,CAAC,cACpDrB,KAAA,MAAAwF,QAAA,EAAG,uBAAqB,CAAClE,SAAS,SAATA,SAAS,WAATA,SAAS,CAAED,IAAI,CAAG6F,MAAM,CAACC,IAAI,CAAC7F,SAAS,CAACD,IAAI,CAAC,CAAC+F,IAAI,CAAC,IAAI,CAAC,CAAG,MAAM,EAAI,CAAC,cAC/FpH,KAAA,MAAAwF,QAAA,EAAG,sBAAoB,CAACjD,WAAW,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cACvDvC,KAAA,MAAAwF,QAAA,EAAG,2BAAyB,CAACjD,WAAW,SAAXA,WAAW,WAAXA,WAAW,CAAElB,IAAI,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cAClErB,KAAA,MAAAwF,QAAA,EAAG,iCAA+B,CAAC,CAAAjD,WAAW,SAAXA,WAAW,kBAAA9B,kBAAA,CAAX8B,WAAW,CAAElB,IAAI,UAAAZ,kBAAA,kBAAAC,qBAAA,CAAjBD,kBAAA,CAAmBY,IAAI,UAAAX,qBAAA,iBAAvBA,qBAAA,CAAyBoC,OAAO,GAAI,WAAW,EAAI,CAAC,cACvF9C,KAAA,MAAAwF,QAAA,EAAG,iBAAe,CAAC9C,aAAa,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cACpD1C,KAAA,MAAAwF,QAAA,EAAG,eAAa,CAAChD,WAAW,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cAChDxC,KAAA,MAAAwF,QAAA,EAAG,cAAY,CAAChE,UAAU,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cAC9CxB,KAAA,MAAAwF,QAAA,EAAG,YAAU,CAAC9D,QAAQ,CAAG,KAAK,CAAG,IAAI,EAAI,CAAC,cAC1C1B,KAAA,MAAAwF,QAAA,EAAG,kBAAgB,CAACpD,IAAI,CAACC,SAAS,CAACf,SAAS,CAAE,IAAI,CAAE,CAAC,CAAC,EAAI,CAAC,EACxD,CAAC,cACNxB,IAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB1F,IAAA,CAACJ,MAAM,EAAC+F,OAAO,CAAEA,CAAA,GAAM7D,gBAAgB,CAAC,CAAE,CAACyF,OAAO,CAAC,SAAS,CAACC,IAAI,CAAC,IAAI,CAAA9B,QAAA,CAAC,oBAEvE,CAAQ,CAAC,CACN,CAAC,EACH,CACN,CACE,CAAC,cAGNxF,KAAA,QAAKuF,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eACpC1F,IAAA,CAACJ,MAAM,EACL2H,OAAO,CAAC,SAAS,CACjB5B,OAAO,CAAEA,CAAA,GAAM7E,QAAQ,CAAC,YAAY,CAAE,CACtC2E,SAAS,CAAC,gDAAgD,CAAAC,QAAA,CAC3D,cAED,CAAQ,CAAC,cAGT1F,IAAA,QAAKyF,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB1F,IAAA,CAACJ,MAAM,EACL2H,OAAO,CAAC,SAAS,CACjB5B,OAAO,CAAE,KAAAA,CAAA,GAAY,KAAA8B,gBAAA,CACnBrF,OAAO,CAACC,GAAG,CAAC,sCAAsC,CAAC,CACnD,GAAIb,SAAS,SAATA,SAAS,YAAAiG,gBAAA,CAATjG,SAAS,CAAED,IAAI,UAAAkG,gBAAA,WAAfA,gBAAA,CAAiBlG,IAAI,EAAIC,SAAS,CAACD,IAAI,CAACA,IAAI,CAAC8E,MAAM,CAAG,CAAC,CAAE,CAC3D,KAAM,CAAAqB,QAAQ,CAAGlG,SAAS,CAACD,IAAI,CAACA,IAAI,CAAC,CAAC,CAAC,CACvCa,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEqF,QAAQ,CAAC,CAChD,GAAI,CACF,KAAM,CAAA9D,QAAQ,CAAG,KAAM,CAAAvE,MAAM,CAACkE,OAAO,CAACmE,QAAQ,CAAC1C,EAAE,CAAC,CAClD5C,OAAO,CAACC,GAAG,CAAC,yBAAyB,CAAEuB,QAAQ,CAAC,CAChD+D,KAAK,CAAC,2BAA2B,CAAC,CACpC,CAAE,MAAOhG,KAAK,CAAE,KAAAiG,gBAAA,CAAAC,qBAAA,CACdzF,OAAO,CAACT,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CgG,KAAK,0BAAAhD,MAAA,CAA0B,EAAAiD,gBAAA,CAAAjG,KAAK,CAACiC,QAAQ,UAAAgE,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBrG,IAAI,UAAAsG,qBAAA,iBAApBA,qBAAA,CAAsBhE,OAAO,GAAIlC,KAAK,CAACkC,OAAO,CAAE,CAAC,CAClF,CACF,CAAC,IAAM,CACL8D,KAAK,CAAC,qCAAqC,CAAC,CAC9C,CACF,CAAE,CACFlC,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAC9B,eAED,CAAQ,CAAC,CACN,CAAC,EACH,CAAC,EACH,CAAC,CAGLzE,WAAW,eACVjB,IAAA,QAAKyF,SAAS,CAAC,gFAAgF,CAAAC,QAAA,cAC7FxF,KAAA,QAAKuF,SAAS,CAAC,gDAAgD,CAAAC,QAAA,eAC7D1F,IAAA,OAAIyF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,sBAAoB,CAAI,CAAC,cACnFxF,KAAA,QAAKuF,SAAS,CAAC,qCAAqC,CAAAC,QAAA,eAClDxF,KAAA,QAAKuF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxD1F,IAAA,SAAA0F,QAAA,CAAM,YAAU,CAAM,CAAC,cACvB1F,IAAA,SAAMyF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEzE,WAAW,CAAC4D,IAAI,CAAO,CAAC,EACtD,CAAC,cACN3E,KAAA,QAAKuF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxD1F,IAAA,SAAA0F,QAAA,CAAM,OAAK,CAAM,CAAC,cAClB1F,IAAA,SAAMyF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEd,cAAc,CAAC3D,WAAW,CAACsD,MAAM,CAAC,CAAO,CAAC,EACxE,CAAC,cACNrE,KAAA,QAAKuF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxD1F,IAAA,SAAA0F,QAAA,CAAM,gBAAc,CAAM,CAAC,cAC3B1F,IAAA,SAAMyF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,CAAEd,cAAc,CAAC3D,WAAW,CAAC+F,YAAY,CAAC,CAAO,CAAC,EAC7F,CAAC,cACN9G,KAAA,QAAKuF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,eACxD1F,IAAA,SAAA0F,QAAA,CAAM,qBAAmB,CAAM,CAAC,cAChC1F,IAAA,SAAMyF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC5Bd,cAAc,CAAC,CAAC,CAAAnC,WAAW,SAAXA,WAAW,kBAAA5B,kBAAA,CAAX4B,WAAW,CAAElB,IAAI,UAAAV,kBAAA,iBAAjBA,kBAAA,CAAmBmC,OAAO,GAAI,CAAC,EAAI/B,WAAW,CAACsD,MAAM,CAAC,CACnE,CAAC,EACJ,CAAC,EACH,CAAC,cACNrE,KAAA,QAAKuF,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1C1F,IAAA,CAACJ,MAAM,EACL2H,OAAO,CAAC,SAAS,CACjB5B,OAAO,CAAEA,CAAA,GAAMzE,cAAc,CAAC,IAAI,CAAE,CACpCuE,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CACxC,QAED,CAAQ,CAAC,cACT1F,IAAA,CAACJ,MAAM,EACL+F,OAAO,CAAEb,cAAe,CACxBgD,QAAQ,CAAE1E,eAAe,CAAC3B,SAAU,CACpCgE,SAAS,CAAC,6BAA6B,CAAAC,QAAA,CAEtCtC,eAAe,CAAC3B,SAAS,CAAG,eAAe,CAAG,kBAAkB,CAC3D,CAAC,EACN,CAAC,EACH,CAAC,CACH,CACN,CAGAN,eAAe,eACdnB,IAAA,CAACH,WAAW,EACVkI,OAAO,CAAEA,CAAA,GAAM,CACb3G,kBAAkB,CAAC,KAAK,CAAC,CACzBE,YAAY,CAAC,IAAI,CAAC,CACpB,CAAE,CACF0C,QAAQ,CAAE3C,SAAU,CACrB,CACF,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}